#!/usr/bin/env bash

ADD=(
  "ğŸ”§ Add dotgit sync configuration,.dotgit.yaml"
  "ğŸ“„ Update licenses from DGS template,LICENSE*"
  "ğŸ“ Update README from DGS template,README.md"
  "ğŸ“ Add CODE_OF_CONDUCT from DGS template,CODE_OF_CONDUCT.md"
  "ğŸ“ Add CONTRIBUTING from DGS template,CONTRIBUTING.md"
  "ğŸ“ Add COPYRIGHT from DGS template,COPYRIGHT"
  "ğŸ™ˆ Update gitignore from DGS template,.gitignore"
  "ğŸ”§ Add editorconfig from DGS template,.editorconfig"
  "ğŸ”§ Add cspell configuration from DGS template,.cspell/words.txt cspell.json"
  "ğŸ”§ Add commitlint config from DGS template,.commitlintrc.ts"
  "ğŸ”§ Add markdownlint config from DGS template,.markdownlint.jsonc .markdownlintignore"
  "ğŸ”§ Add semantic release config from DGS template,.release/ releaserc.toml"
  "ğŸ”§ Add terraform-docs config from DGS template,.terraform-docs.yml"
  "ğŸ”¨ Add pre-commit configuration from DGS template,.pre-commit-config.yaml"
  "ğŸ‘· Add Gitlab CI from DGS template,.gitlab-ci.yml .gitlab/"
)

ADD_FORCE=(
  "ğŸ”¨ Add devbox config from DGS template,devbox.* .devbox/init_hook/*.sh"
  "ğŸ”¨ Add .envrc from DGS template,.envrc"
)

for commit in "${ADD[@]}"; do
	msg="${commit%,*}"
	files="${commit#*,}"
	# shellcheck disable=2086
	git add ${files}
	if ! git commit -m "${msg}"; then
    git commit -m "${msg}"
	fi
done

for commit in "${ADD_FORCE[@]}"; do
	msg="${commit%,*}"
	files="${commit#*,}"
	# shellcheck disable=2086
	git add -f ${files}
	if ! git commit -m "${msg}"; then
    git commit -m "${msg}"
	fi
done
