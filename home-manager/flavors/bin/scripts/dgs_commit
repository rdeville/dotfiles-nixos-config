#!/usr/bin/env bash

PWD=$(pwd)

COMMITS=(
  "🔧 Add dotgit sync configuration,.dotgit.yaml"
  "📄 Update licenses from DGS,LICENSE*"
  "📝 Update README from DGS,README.md"
  "📝 Add CODE_OF_CONDUCT from DGS,CODE_OF_CONDUCT.md"
  "🙈 Update gitignore from DGS,.gitignore"
  "🔨 Add pre-commit configuration from DGS template,.pre-commit-config.yaml"
  "🔧 Add editorconfig from DGS template,.editorconfig"
  "🔧 Add cspell configuration from DGS template,.cspell/words.txt cspell.json"
  "🔧 Add commitlint config from DGS template,.commitlintrc.ts"
  "🔧 Add markdownlint config from DGS template,.markdownlint.jsonc .markdownlintignore"
  "🔧 Add semantic release config from DGS template,.release/ releaserc.toml"
  "👷 Add Gitlab CI from DGS template,.gitlab-ci.yml .gitlab/"
  "🔨 Add devbox config from DGS template,devbox.* devbox/"
)


for commit in "${COMMITS[@]}"; do
	msg="${commit%,*}"
	files="${commit#*,}"
	# shellcheck disable=2086
	git add ${files}
	if ! git commit -m "${msg}"; then
    git commit -m "${msg}"
	fi
done

git add .envrc
msg="🔨 Add .envrc from DGS template"
if ! git commit -m "${msg}"; then
  git commit -m "${msg}"
fi
